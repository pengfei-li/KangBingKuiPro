
<!--备忘录-->
<view class="page">
  <view wx:for="{{memo}}">
    <view wx:if="{{item.state == 0}}">

      <!--正常-->
      <view class="memo-card">
        <view class="memo-name">{{item.name}}
          <image bindtap="setState" data-index="{{index}}" class="state-icon" src="../../src/icon/default.png"></image>
        </view>
        <view class="memo-time">
          {{item.date}}
        </view>
        <view class="memo-content">
          <text>{{item.content}}</text>
        </view>
      </view>
    </view>
    <view wx:elif="{{item.state == 3}}">

      <!--完成-->
      <view class="memo-card success">
        <view class="memo-name">{{item.name}}
          <image class="state-icon" bindtap="setState" data-index="{{index}}" src="../../src/icon/success.png"></image>
        </view>
        <view class="memo-time">{{item.date}}</view>
        <view class="memo-content">
          <text>{{item.content}}</text>
        </view>
      </view>
    </view>
    <view wx:elif="{{item.state == 1}}">

      <!--进行中-->
      <view class="memo-card realtime">
        <view class="memo-name">{{item.name}}
          <image class="state-icon" bindtap="setState" data-index="{{index}}" src="../../src/icon/realtime.png"></image>
        </view>
        <view class="memo-time">{{item.date}}</view>
        <view class="memo-content">
          <text>{{item.content}}</text>
        </view>
      </view>
    </view>
    <view wx:else>

      <!--超时-->
      <view class="memo-card outtime">
        <view class="memo-name">{{item.name}}
          <image class="state-icon" bindtap="setState" data-index="{{index}}" src="../../src/icon/outtime.png"></image>
        </view>
        <view class="memo-time">{{item.date}}</view>
        <view class="memo-content">
          <text>{{item.content}}</text>
        </view>
      </view>
    </view>
  </view>
  <button type="primary" bindtap="openAddModal">增加备忘录</button>
</view>
<view animation="{{modalAnimate}}" class="ui-modal">
  <image class="ui-modal-close" bindtap="closeAddModal" src="../../src/icon/close.png"></image>
  <form class="ui-modal-form" bindsubmit="addOneMemo" bindreset="formReset">
    <view class="memo-add">
      <view class="memo-title">
        <view class="label">备忘名:</view>
        <input class="memo-value" name="title" placeholder="备忘名"/>
      </view>
      <view class="memo-add-content">
        <textarea class="memo-con" name="content" placeholder="输入备忘内容..." maxlength="210" cursor-spacing="5" />
      </view>
    </view>
    <button type="primary" formType="reset">重置</button>
    <button type="primary" formType="submit">增加备忘录</button>
  </form>
</view>