<!--备忘录-->
<view class="page">
  <view wx:for="{{memo}}" wx:key="index">
      <!--正常-->
      <view wx:if="{{item.state == 0}}" class="memo-card" data-index="{{index}}" bindtap="showDetail">
        <view class="memo-name">{{item.name}}
          <image bindtap="setState" data-index="{{index}}" class="state-icon" src="../../src/icon/default.png"></image>
        </view>
        <view class="memo-time">
          {{item.date}}
        </view>
        <view class="memo-content">
          <text>{{item.content}}</text>
        </view>
      </view>
      <!--完成-->
      <view wx:elif="{{item.state == 3}}" class="memo-card success" data-index="{{index}}" bindtap="showDetail">
        <view class="memo-name">{{item.name}}
          <image class="state-icon" bindtap="setState" data-index="{{index}}" src="../../src/icon/success.png"></image>
        </view>
        <view class="memo-time">{{item.date}}</view>
        <view class="memo-content">
          <text>{{item.content}}</text>
        </view>
      </view>
      <!--进行中-->
      <view wx:elif="{{item.state == 1}}" class="memo-card realtime" data-index="{{index}}" bindtap="showDetail">
        <view class="memo-name">{{item.name}}
          <image class="state-icon" bindtap="setState" data-index="{{index}}" src="../../src/icon/realtime.png"></image>
        </view>
        <view class="memo-time">{{item.date}}</view>
        <view class="memo-content">
          <text>{{item.content}}</text>
        </view>
      </view>
      <!--超时-->
      <view wx:else class="memo-card outtime" data-index="{{index}}" bindtap="showDetail">
        <view class="memo-name">{{item.name}}
          <image class="state-icon" bindtap="setState" data-index="{{index}}" src="../../src/icon/outtime.png"></image>
        </view>
        <view class="memo-time">{{item.date}}</view>
        <view class="memo-content">
          <text>{{item.content}}</text>
        </view>
    </view>
  </view>
  <button type="primary" bindtap="openAddModal">增加备忘录</button>
  <text class="tip-bottom">你可以在内容管理中清空所有的备忘录</text>
</view>
<view animation="{{modalAnimate}}" class="ui-modal">
  <image class="ui-modal-close" bindtap="closeAddModal" src="../../src/icon/close.png"></image>
  <form class="ui-modal-form" bindsubmit="addOneMemo" bindreset="formReset">
    <view class="memo-add">
      <view class="memo-title">
        <view class="label">备忘名:</view>
        <input class="memo-value" name="title" maxlength="12" placeholder="备忘名"/>
      </view>
      <view class="memo-add-content">
        <textarea class="memo-con" name="content" placeholder="输入备忘内容..." fixed="true" maxlength="240" cursor-spacing="5" />
      </view>
    </view>
    <button type="primary" formType="reset">重置</button>
    <button type="primary" formType="submit">增加备忘录</button>
  </form>
</view>
<!-- <view animation="{{detailAnimate}}" bindtap="closeDetail" class="ui-show-detail {{detailStyle}}">
  <view class="content">
      <view class="title">{{detalItem.name}}</view>
      <view class="date">{{detalItem.date}}</view>
      <view class="con"><text>{{detalItem.content}}</text></view>
  </view>
</view> -->